{
    "version": "https://jsonfeed.org/version/1",
    "title": "Faceless Blog • All posts by \"加速乐\" tag",
    "description": "数据采集、逆向安全、网络杂谈",
    "home_page_url": "https://haysalan.github.io",
    "items": [
        {
            "id": "https://haysalan.github.io/posts/59917.html",
            "url": "https://haysalan.github.io/posts/59917.html",
            "title": "加速乐逆向",
            "date_published": "2023-11-08T09:00:04.000Z",
            "content_html": "<h1 id=\"声明\"><a class=\"markdownIt-Anchor\" href=\"#声明\">#</a> 声明</h1>\n<p>本逆向文章仅为学术交流和学习探讨之用，不代表任何官方立场或观点。文章内容仅供参考，读者应自行判断其真实性和可靠性。因使用本逆向文章而产生的任何直接或间接后果，本网站及作者不承担任何法律责任。请在使用本逆向文章前仔细阅读相关法律法规和条款，并确保您理解并接受本免责声明的全部内容。如有侵权行为或不当使用，请及时联系我们，我们将尽快处理。</p>\n<h1 id=\"逻辑分析\"><a class=\"markdownIt-Anchor\" href=\"#逻辑分析\">#</a> 逻辑分析</h1>\n<p>1.index.html 请求中有如下图两个 cookies。<br>\n<img src=\"https://cdn.nlark.com/yuque/0/2023/png/26634545/1699435260379-8d57aed7-a002-4c53-900a-8e901924ed55.png#averageHue=%23eecd94&amp;clientId=u282ecbe5-2f8d-4&amp;from=paste&amp;height=361&amp;id=ub58af60e&amp;originHeight=541&amp;originWidth=1211&amp;originalType=binary%E2%88%B6=1.5&amp;rotation=0&amp;showTitle=false&amp;size=56461&amp;status=done&amp;style=none&amp;taskId=u407de983-9f7e-4f3f-9701-d447caf96f7&amp;title=&amp;width=807.3333333333334\" alt=\"image.png\"> 2. 使用 charles 或其他抓包工具进行抓包，看到 index.html 进过三次加载，前两次是 521 状态。<br>\n<img src=\"https://cdn.nlark.com/yuque/0/2023/png/26634545/1699435667713-255995fd-4aff-406e-ac33-4affeb7e17de.png#averageHue=%23f7e1de&amp;clientId=u282ecbe5-2f8d-4&amp;from=paste&amp;height=136&amp;id=u23357e78&amp;originHeight=204&amp;originWidth=865&amp;originalType=binary%E2%88%B6=1.5&amp;rotation=0&amp;showTitle=false&amp;size=31079&amp;status=done&amp;style=none&amp;taskId=u60a45c58-ce2e-4a95-b867-0424086eb04&amp;title=&amp;width=576.6666666666666\" alt=\"image.png\"> 3. 第一次请求的  <code>&lt;script&gt;</code>  标签中进行了 cookie 设置，cookie 值如图是被混淆的。<br>\n<img src=\"https://cdn.nlark.com/yuque/0/2023/png/26634545/1699435810175-43c64164-fe6d-4413-8154-30811e494725.png#averageHue=%23f6efee&amp;clientId=u282ecbe5-2f8d-4&amp;from=paste&amp;height=325&amp;id=ufda357d2&amp;originHeight=487&amp;originWidth=1180&amp;originalType=binary%E2%88%B6=1.5&amp;rotation=0&amp;showTitle=false&amp;size=45801&amp;status=done&amp;style=none&amp;taskId=ue94fa2eb-52a9-4c17-8129-1701b682529&amp;title=&amp;width=786.6666666666666\" alt=\"image.png\"><br>\n 放到浏览器控制台中执行得到如下结果，发现 cookie 的 name 和成功响应带的 cookie 一致。<br>\n<img src=\"https://cdn.nlark.com/yuque/0/2023/png/26634545/1699436504827-0fb474f3-f3eb-4741-8d17-d1b5599d2edb.png#averageHue=%23faf7f4&amp;clientId=u282ecbe5-2f8d-4&amp;from=paste&amp;height=102&amp;id=ud13a1a5c&amp;originHeight=153&amp;originWidth=1214&amp;originalType=binary%E2%88%B6=1.5&amp;rotation=0&amp;showTitle=false&amp;size=28179&amp;status=done&amp;style=none&amp;taskId=u3aaeb1cd-a0c5-40f1-bcd0-174321fdc63&amp;title=&amp;width=809.3333333333334\" alt=\"image.png\"> 4. 第二次请求带上来第一次请求的 cookies-**jsl_clearance_s, 返回结果应该经过 ob 混淆的代码。<br>\n<img src=\"https://cdn.nlark.com/yuque/0/2023/png/26634545/1699436659042-6623654a-c89e-417c-b09b-a69ac47db90e.png#averageHue=%23f5efed&amp;clientId=u282ecbe5-2f8d-4&amp;from=paste&amp;height=468&amp;id=u24249c79&amp;originHeight=702&amp;originWidth=1434&amp;originalType=binary%E2%88%B6=1.5&amp;rotation=0&amp;showTitle=false&amp;size=104332&amp;status=done&amp;style=none&amp;taskId=u5a8a3feb-42d2-41de-8ac6-e2571ee4df5&amp;title=&amp;width=956\" alt=\"image.png\"> 5. 第三次成功响应，对比 cookies 发现，**jsl_clearance_s 变了，大概率是 ob 混淆文件对它做了修改。<br>\n<img src=\"https://cdn.nlark.com/yuque/0/2023/png/26634545/1699436842758-691796cb-f12c-49cf-b8da-52cc6d5694cc.png#averageHue=%23f7f2f1&amp;clientId=u282ecbe5-2f8d-4&amp;from=paste&amp;height=411&amp;id=u95876b19&amp;originHeight=616&amp;originWidth=1418&amp;originalType=binary%E2%88%B6=1.5&amp;rotation=0&amp;showTitle=false&amp;size=81899&amp;status=done&amp;style=none&amp;taskId=u50247f49-082d-40ec-be6f-152b6dcebad&amp;title=&amp;width=945.3333333333334\" alt=\"image.png\"></p>\n<h1 id=\"请求实现\"><a class=\"markdownIt-Anchor\" href=\"#请求实现\">#</a> 请求实现</h1>\n<p>解完混淆代码逻辑清晰可见<br>\n<img src=\"https://cdn.nlark.com/yuque/0/2023/png/26634545/1699457082391-e396b4e4-0e34-4777-92d8-863d062d2dcb.png#averageHue=%23292e36&amp;clientId=u797940c7-3ac3-4&amp;from=paste&amp;height=614&amp;id=u6af0785e&amp;originHeight=767&amp;originWidth=1102&amp;originalType=binary%E2%88%B6=1.25&amp;rotation=0&amp;showTitle=false&amp;size=131952&amp;status=done&amp;style=none&amp;taskId=u2c86d18d-ec14-47c7-86c5-e9540582e6e&amp;title=&amp;width=881.6\" alt=\"image.png\"></p>\n<h2 id=\"python-请求代码\"><a class=\"markdownIt-Anchor\" href=\"#python-请求代码\">#</a> python 请求代码</h2>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/26634545/1699463090349-47df0f08-cc99-4b35-8fd4-294c07c81c4f.png#averageHue=%232d2c2c&amp;clientId=u797940c7-3ac3-4&amp;from=paste&amp;height=515&amp;id=u996c474e&amp;originHeight=644&amp;originWidth=772&amp;originalType=binary%E2%88%B6=1.25&amp;rotation=0&amp;showTitle=false&amp;size=77500&amp;status=done&amp;style=none&amp;taskId=u3f430bd5-7c7c-4867-9ee6-e759fdfc7f9&amp;title=&amp;width=617.6\" alt=\"image.png\"></p>\n<p>完整代码仓库: <a href=\"https://github.com/Alanhays/crawler/tree/main/SCDN_JSL\">https://github.com/Alanhays/crawler</a></p>\n",
            "tags": [
                "解混淆",
                "加速乐"
            ]
        }
    ]
}